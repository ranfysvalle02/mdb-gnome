<!DOCTYPE html>  
<html lang="en">  
<head>  
  <meta charset="UTF-8" />  
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>  
  <title>Workout Collection Gallery</title>  
  <style>  
    :root {  
      --atlas-green: #00ED64;  
      --atlas-green-darker: #00A343;  
      --atlas-dark-blue: #132A38;  
      --atlas-bg: #0C1822;  
      --atlas-light-text: #E4EAF0;  
      --atlas-mid-text: #A7B6C2;  
      --atlas-border: #2A506F;  
      --atlas-hover-bg: #1C3A50;  
      --atlas-delete-red: #FF6868;  
      --atlas-delete-border: #B34949;  
      --button-text-dark: #0C1822;  
    }  
  
    body {  
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;  
      margin: 0;  
      padding: 0;  
      background-color: var(--atlas-bg);  
      color: var(--atlas-light-text);  
      line-height: 1.6;  
    }  
  
    #particle-canvas {  
      position: fixed;  
      top: 0;  
      left: 0;  
      width: 100%;  
      height: 100%;  
      z-index: -1;  
    }  
  
    .container {  
      max-width: 1200px;  
      margin: 30px auto;  
      padding: 25px 30px;  
      background-color: var(--atlas-dark-blue);  
      border-radius: 12px;  
      border: 1px solid var(--atlas-border);  
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3), 0 0 20px rgba(0, 237, 100, 0.15);  
      position: relative;  
      z-index: 1;  
    }  
  
    h1 {  
      color: var(--atlas-light-text);  
      text-align: center;  
      font-size: 2.2em;  
      margin-bottom: 5px;  
    }  
  
    h2 {  
      color: var(--atlas-mid-text);  
      text-align: center;  
      font-weight: 400;  
      margin-top: 0;  
      margin-bottom: 25px;  
      font-size: 1.2em;  
    }  
  
    .controls {  
      display: flex;  
      justify-content: center;  
      gap: 20px;  
      margin-bottom: 30px;  
    }  
  
    .control-btn {  
      padding: 12px 25px;  
      font-size: 1.05em;  
      font-weight: 600;  
      border-radius: 8px;  
      text-decoration: none;  
      cursor: pointer;  
      border: none;  
      transition: all 0.2s ease-in-out;  
      display: inline-flex;  
      align-items: center;  
      gap: 8px;  
    }  
  
    .btn-generate {  
      background-color: var(--atlas-green);  
      color: var(--button-text-dark);  
    }  
    .btn-generate:hover {  
      background-color: #fff;  
      color: #000;  
      box-shadow: 0 0 15px var(--atlas-green);  
      transform: translateY(-2px);  
    }  
  
    /* NEW: Styling for the bulk generation button */
    .btn-bulk {
      background-color: var(--atlas-green-darker);
      color: var(--button-text-dark);
      border: 1px solid var(--atlas-green-darker);
    }
    .btn-bulk:hover {
      background-color: var(--atlas-green);
      color: #000;
      box-shadow: 0 0 15px var(--atlas-green);
      transform: translateY(-2px);
    }
    .btn-bulk:disabled {
        background-color: var(--atlas-hover-bg);
        color: var(--atlas-mid-text);
        border-color: var(--atlas-border);
        cursor: not-allowed;
        box-shadow: none;
        transform: none;
    }
    
    .btn-clear {  
      background-color: transparent;  
      color: var(--atlas-delete-red);  
      border: 1px solid var(--atlas-delete-border);  
    }  
    .btn-clear:hover {  
      background-color: var(--atlas-delete-red);  
      color: #fff;  
      border-color: var(--atlas-delete-red);  
      box-shadow: 0 0 15px var(--atlas-delete-red);  
      transform: translateY(-2px);  
    }  
  
    .collection-grid {  
      display: grid;  
      grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));  
      gap: 25px;  
      margin-top: 30px;  
    }  
  
    .collection-item {  
      text-align: center;  
      background-color: var(--atlas-hover-bg);  
      border-radius: 8px;  
      font-size: 0.95em;  
      color: var(--atlas-mid-text);  
      transition: all 0.2s ease-in-out;  
      border: 1px solid var(--atlas-border);  
      overflow: hidden;  
    }  
    .collection-item:hover {  
      box-shadow: 0 6px 20px rgba(0, 237, 100, 0.25);  
      transform: translateY(-4px);  
      border-color: var(--atlas-green);  
    }  
    .collection-item a {  
      text-decoration: none;  
      color: inherit;  
      display: block;  
      padding: 15px;  
    }  
    .collection-item img {  
      width: 100%;  
      height: auto;  
      aspect-ratio: 1 / 1;  
      max-width: 128px;  
      image-rendering: pixelated;  
      margin-bottom: 10px;  
      border: 1px solid var(--atlas-border);  
      border-radius: 4px;  
      background-color: #000;  
      display: block;  
      margin-left: auto;  
      margin-right: auto;  
    }  
    .collection-item p {  
      margin: 0;  
      color: var(--atlas-light-text);  
      font-weight: 500;  
    }  

    /* NEW: Simple spinning animation for feedback */
    @keyframes spin {
        to { transform: rotate(360deg); }
    }
    .spinner-border {
        animation: spin 1s linear infinite;
    }
  </style>  
</head>  
<body>  
  
<canvas id="particle-canvas"></canvas>  
  
<div class="container">  
  <div style="text-align: right; margin-bottom: 15px;">
    <a href="https://github.com/ranfysvalle02/mdb-data-imaging" target="_blank" rel="noopener noreferrer" 
       style="color: var(--atlas-green); text-decoration: none; font-size: 0.95em; font-weight: 500; transition: color 0.2s ease; display: inline-flex; align-items: center; gap: 6px;">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
      </svg>
      View on Github
    </a>
  </div>
  <h1>Workout Collection Gallery</h1>  
  <h2>The Workout Radiologist</h2>  
  
  <div class="controls">  
    <form action="/experiments/data_imaging/generate" method="POST" style="margin: 0;">  
      <button type="submit" class="control-btn btn-generate">  
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"   
             viewBox="0 0 16 16">  
          <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1   
                   0-1h3v-3A.5.5 0 0 1 8 4z" />  
        </svg>  
        Generate New Workout  
      </button>  
    </form>  

    <form action="/experiments/data_imaging/generate-demo" method="POST" style="margin: 0;"
          onsubmit="
            this.querySelector('button').disabled=true; 
            this.querySelector('button').innerHTML='<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'16\' height=\'16\' fill=\'currentColor\' class=\'spinner-border\' viewBox=\'0 0 16 16\'><path fill-rule=\'evenodd\' d=\'M8 3a5 5 0 1 0 0 10A5 5 0 0 0 8 3zm0 1a4 4 0 1 0 0 8 4 4 0 0 0 0-8z\'/><path d=\'M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zM14 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 14 8zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zM8 16a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 1 0v2A.5.5 0 0 1 8 16zM11.66 4.34a.5.5 0 0 1 .707.707l-1.414 1.414a.5.5 0 1 1-.707-.707l1.414-1.414zM4.34 11.66a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 1 1 .707.707L4.34 11.66zM12.778 12.778a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.34 4.34a.5.5 0 0 1 0-.707l1.414-1.414a.5.5 0 1 1 .707.707L4.34 4.34z\'/>Loading...'; 
            return true;
          ">
      <button type="submit" class="control-btn btn-generate btn-bulk">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"   
             viewBox="0 0 16 16">
          <path d="M14 10a.5.5 0 0 0-.5-.5h-2a.5.5 0 0 0 0 1h.634l-2.585 3.102A1.5 1.5 0 0 1 7.42 15a1.5 1.5 0 0 1-1.353-.787L.811 7.276A1.5 1.5 0 0 1 2.373 5h3.91l.858-.96A1.5 1.5 0 0 1 8.854 3h5.45c.27 0 .5.224.5.5v6.5zM2.873 6a.5.5 0 0 0-.175.023L.811 7.276A.5.5 0 0 0 .811 7.276L5.067 14.21A.5.5 0 0 0 5.42 14.5a.5.5 0 0 0 .193-.027L8 10h-5.127zM6.28 9H13.5a.5.5 0 0 0 .5-.5V3.5A.5.5 0 0 0 13.5 3h-5.45a.5.5 0 0 0-.447.276L6.28 9zM6 10.5a.5.5 0 0 0-.5-.5h-2a.5.5 0 0 0 0 1h.634l-2.585 3.102A1.5 1.5 0 0 1 3.42 15a1.5 1.5 0 0 1-1.353-.787L.811 7.276A1.5 1.5 0 0 1 2.373 5h3.91l.858-.96A1.5 1.5 0 0 1 8.854 3h5.45c.27 0 .5.224.5.5v6.5z"/>
        </svg>
        Generate **100** Workouts
      </button>
    </form>
  
    <form action="/experiments/data_imaging/clear" method="POST" style="margin: 0;"   
          onsubmit="return confirm('Are you sure you want to delete ALL workouts?');">  
      <button type="submit" class="control-btn btn-clear">  
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"   
             viewBox="0 0 16 16">  
          <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0   
                   2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3   
                   4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5   
                   0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z" />  
        </svg>  
        Clear Entire Collection  
      </button>  
    </form>  
  </div>  
  
  <div class="collection-grid">  
    {{ collection_images_html|safe }}  
  </div>  
</div>  
  
<script>  
document.addEventListener("DOMContentLoaded", function() {  
  const canvas = document.getElementById("particle-canvas");  
  if (!canvas) {  
    console.error("Particle.js: Canvas element with id 'particle-canvas' not found.");  
    return;  
  }  
  
  const ctx = canvas.getContext("2d");  
  let particles = [];  
  
  function resizeCanvas() {  
    canvas.width = window.innerWidth;  
    canvas.height = window.innerHeight;  
  }  
  window.addEventListener("resize", resizeCanvas);  
  resizeCanvas();  
  
  function createParticle() {  
    const x = Math.random() * canvas.width;  
    const y = Math.random() * canvas.height;  
    const size = Math.random() * 2.5 + 1;  
    const speedX = (Math.random() * 0.5 - 0.25) * 0.6;  
    const speedY = (Math.random() * 0.5 - 0.25) * 0.6;  
    const opacity = Math.random() * 0.5 + 0.15;  
    particles.push({x, y, size, speedX, speedY, opacity});  
  }  
  
  const numParticles = window.innerWidth < 768 ? 60 : 100;  
  for (let i = 0; i < numParticles; i++) {  
    createParticle();  
  }  
  
  function animate() {  
    ctx.clearRect(0, 0, canvas.width, canvas.height);  
    particles.forEach((p) => {  
      p.x += p.speedX;  
      p.y += p.speedY;  
      if (p.x < -p.size) p.x = canvas.width + p.size;  
      if (p.x > canvas.width + p.size) p.x = -p.size;  
      if (p.y < -p.size) p.y = canvas.height + p.size;  
      if (p.y > canvas.height + p.size) p.y = -p.size;  
  
      ctx.beginPath();  
      ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);  
      ctx.fillStyle = `rgba(0, 237, 100, ${p.opacity * 0.8})`;  
      ctx.fill();  
    });  
    requestAnimationFrame(animate);  
  }  
  animate();  
});  
</script>  
  
</body>  
</html>